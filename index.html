<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>White City Weapons</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&family=Oswald:wght@500;700&display=swap" rel="stylesheet"/>

<style>
:root{
    --primary:#ff4655;
    --bg:#0a0a0c;
    --panel:#111114;
    --sidebar-w:280px;
    --t1:#4fc3f7;
    --t15:#d32f2f;
    --t2:#ffb300;
}

*{box-sizing:border-box}

body{
    margin:0;
    font-family:Montserrat,sans-serif;
    background:var(--bg);
    color:white;
    display:flex;
}

.sidebar{
    width:var(--sidebar-w);
    background:#0f0f13;
    padding:40px 20px;
    position:fixed;
    height:100vh;
}

.logo-area h1{
    font-family:Oswald;
    color:var(--primary);
    margin:0;
}

.nav-btn{
    width:100%;
    margin-top:15px;
    padding:15px;
    background:#16161a;
    border:1px solid #222;
    color:#aaa;
    font-weight:900;
    cursor:pointer;
}
.nav-btn.active{color:white;border-color:var(--primary)}

.dashboard{
    margin-left:var(--sidebar-w);
    padding:50px;
    width:100%;
}

.section-title{
    font-size:2.5rem;
    border-left:6px solid var(--primary);
    padding-left:20px;
}

/* INVENTORY */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:25px;
}

.card{
    background:#16161a;
    padding:15px;
    border:1px solid #222;
}

.card img{
    width:100%;
    height:160px;
    object-fit:contain;
}

/* SPINNER */
.spinner-viewport{
    height:200px;
    background:black;
    overflow:hidden;
    position:relative;
    border:1px solid #333;
}

.center-line{
    position:absolute;
    left:50%;
    top:0;
    bottom:0;
    width:3px;
    background:var(--primary);
}

.reel{
    display:flex;
    gap:15px;
    padding-left:50%;
}

.reel-item{
    width:170px;
    height:170px;
    background:#1a1a20;
    border:1px solid #333;
    display:flex;
    align-items:center;
    justify-content:center;
}

.reel-item img{
    width:80%;
    height:80%;
    object-fit:contain;
}

.spin-btn{
    margin-top:30px;
    padding:15px 60px;
    background:var(--primary);
    border:none;
    color:white;
    font-weight:900;
    cursor:pointer;
}

/* RESULT */
.win-display{
    margin-top:40px;
    padding:20px;
    border:2px solid var(--primary);
    display:none;
    text-align:center;
}
</style>
</head>

<body>

<div class="sidebar">
    <div class="logo-area">
        <h1>WHITE CITY</h1>
    </div>
    <button class="nav-btn active" onclick="nav('weapons',this)">Inventory</button>
    <button class="nav-btn" onclick="nav('spin',this)">Randomize</button>
</div>

<div class="dashboard">

<!-- INVENTORY -->
<div id="sec-weapons">
    <h2 class="section-title">Inventory</h2>

    <h3 style="color:var(--t1)">Tier 1</h3>
    <div class="grid" id="grid-t1"></div>

    <h3 style="color:var(--t15)">Tier 1.5</h3>
    <div class="grid" id="grid-t15"></div>

    <h3 style="color:var(--t2)">Tier 2</h3>
    <div class="grid" id="grid-t2"></div>
</div>

<!-- SPINNER -->
<div id="sec-spin" style="display:none">
    <h2 class="section-title">Spin System</h2>

    <select id="spin-tier">
        <option value="all">All</option>
        <option value="t1">Tier 1</option>
        <option value="t15">Tier 1.5</option>
        <option value="t2">Tier 2</option>
    </select>

    <div class="spinner-viewport">
        <div class="center-line"></div>
        <div class="reel" id="reel"></div>
    </div>

    <button class="spin-btn" onclick="spin()">SPIN</button>

    <div class="win-display" id="winDisplay"></div>
</div>

</div>

<script>
const FALLBACK_IMG = "https://i.postimg.cc/0N0Z4y9q/placeholder.png";

const WEAPONS = {
    t1:[
        {name:"Canik",img:FALLBACK_IMG,color:"#4fc3f7"},
        {name:"Walther",img:FALLBACK_IMG,color:"#4fc3f7"},
        {name:"Glock 45",img:FALLBACK_IMG,color:"#4fc3f7"},
        {name:"P320",img:FALLBACK_IMG,color:"#4fc3f7"}
    ],
    t15:[
        {name:"Gusenberg",img:"https://i.postimg.cc/VvP3tPzF/gusenberg.png",color:"#d32f2f"}
    ],
    t2:[
        {name:"Assault Rifle",img:"https://i.postimg.cc/mD8x1hM0/ar.png",color:"#ffb300"},
        {name:"Special Carbine",img:"https://i.postimg.cc/85zK6L6k/special.png",color:"#ffb300"}
    ]
};

function nav(section,btn){
    document.getElementById("sec-weapons").style.display=section==="weapons"?"block":"none";
    document.getElementById("sec-spin").style.display=section==="spin"?"block":"none";
    document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
}

function populate(){
    ["t1","t15","t2"].forEach(t=>{
        const grid=document.getElementById("grid-"+t);
        grid.innerHTML="";
        WEAPONS[t].forEach(w=>{
            const c=document.createElement("div");
            c.className="card";
            c.innerHTML=`
                <img src="${w.img}">
                <div style="text-align:center;font-weight:900;margin-top:10px">${w.name}</div>
            `;
            grid.appendChild(c);
        });
    });
}

function spin(){
    const tier=document.getElementById("spin-tier").value;
    const pool=tier==="all"?[...WEAPONS.t1,...WEAPONS.t15,...WEAPONS.t2]:WEAPONS[tier];
    const reel=document.getElementById("reel");
    reel.innerHTML="";
    reel.style.transition="none";
    reel.style.transform="translateX(0)";

    let chosen=pool[Math.floor(Math.random()*pool.length)];

    for(let i=0;i<80;i++){
        const w=pool[Math.floor(Math.random()*pool.length)];
        reel.innerHTML+=`<div class="reel-item"><img src="${w.img}"></div>`;
    }

    const index=60;
    const width=185;
    setTimeout(()=>{
        reel.style.transition="transform 6s cubic-bezier(.1,0,0,1)";
        reel.style.transform=`translateX(-${index*width}px)`;
    },50);

    setTimeout(()=>{
        const win=document.getElementById("winDisplay");
        win.style.display="block";
        win.innerHTML=`<h2>YOU RECEIVED</h2><img src="${chosen.img}" style="width:200px"><h3>${chosen.name}</h3>`;
    },6200);
}

populate();
</script>

</body>
</html>
