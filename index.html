<!DOCTYPE html>
<html>
<head>
<title>White City Spin System</title>

<style>
:root{
--bg:#0a0a0a;
--red:#ff2020;
--t1:#999;
--t15:#ffb000;
--t2:#00bfff;
}

body{
margin:0;
font-family:Arial;
background:black;
color:white;
overflow:hidden;
}

/* ===== VIDEO BACKGROUND ===== */
.bg-video{
position:fixed;
top:0;left:0;
width:100%;
height:100%;
object-fit:cover;
filter:blur(6px) brightness(.25);
z-index:-2;
}
.logo-overlay{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:80px;
font-weight:900;
opacity:.07;
z-index:-1;
}

/* ===== SIDEBAR ===== */
.sidebar{
width:240px;
height:100vh;
background:#111;
position:fixed;
left:0;top:0;
padding:20px;
transition:.3s;
}
.sidebar:hover{
background:#180000;
border-right:3px solid red;
}

.nav-btn{
display:block;
width:100%;
padding:12px;
margin-top:10px;
background:#111;
border:none;
color:white;
font-weight:700;
cursor:pointer;
transition:.2s;
}
.nav-btn:hover{
background:red;
}
.nav-btn.active{
background:red;
}

/* ===== MAIN AREA ===== */
.main{
margin-left:260px;
padding:20px;
}

/* ===== SPINNER ===== */
.spinner{
overflow:hidden;
width:850px;
border:2px solid red;
padding:10px;
}
.reel{
display:flex;
transition:transform 1s cubic-bezier(.1,.8,.2,1);
}
.item{
width:180px;
background:#111;
margin-right:10px;
text-align:center;
padding:10px;
border-bottom:4px solid red;
}
.item img{height:80px}

.spin-btn{
padding:15px 40px;
background:red;
border:none;
font-size:18px;
font-weight:900;
cursor:pointer;
margin-top:20px;
}

/* ===== CREDIT ===== */
.credit{
position:fixed;
bottom:10px;
left:10px;
font-size:12px;
opacity:.6;
cursor:pointer;
}
.credit:hover::after{
content:" @sheluvnyn";
margin-left:5px;
color:red;
}
</style>
</head>

<body>

<!-- BACKGROUND VIDEO -->
<video class="bg-video" autoplay loop muted>
  <source src="bg.mp4" type="video/mp4">
</video>
<div class="logo-overlay">WHITE CITY</div>

<!-- BACKGROUND MUSIC -->
<audio id="bgMusic" autoplay loop>
  <source src="music.mp3" type="audio/mp3">
</audio>

<div class="sidebar">
<h2>WHITE CITY</h2>
<button class="nav-btn active" onclick="show('spin')">Spin</button>
<button class="nav-btn" onclick="show('inv')">Inventory</button>
</div>

<div class="main">

<div id="spin">
<select id="tier">
<option value="t1">Tier 1</option>
<option value="t15">Tier 1.5</option>
<option value="t2">Tier 2</option>
</select>

<div class="spinner">
<div id="reel" class="reel"></div>
</div>

<button class="spin-btn" onclick="spin()">SPIN</button>
</div>

</div>

<div class="credit">made by nyn</div>

<script>
/* ===== WEAPONS WITH % CHANCES ===== */
const weapons={
t1:[
{name:"Glock 17",img:"glock.png",chance:20},
{name:"1911",img:"1911.png",chance:20},
{name:"FN57",img:"fn57.png",chance:15},
{name:"Draco",img:"draco.png",chance:1} // 1%
],
t15:[
{name:"Glock 45",img:"g45.png",chance:15},
{name:"Black Draco",img:"bdraco.png",chance:2},
{name:"SMG",img:"smg.png",chance:10}
],
t2:[
{name:"AK47",img:"ak.png",chance:10},
{name:"M4",img:"m4.png",chance:10},
{name:"Gold Draco",img:"gdraco.png",chance:1}
]
};

/* ===== WEIGHTED RANDOM PICK ===== */
function weightedPick(list){
let total=list.reduce((a,b)=>a+b.chance,0);
let r=Math.random()*total;
for(let w of list){
if(r<w.chance)return w;
r-=w.chance;
}
}

/* ===== SPIN ===== */
function spin(){
const tier=document.getElementById("tier").value;
const pool=weapons[tier];
const reel=document.getElementById("reel");
reel.innerHTML="";

let items=[];
for(let i=0;i<30;i++) items.push(weightedPick(pool));

items.forEach(w=>{
let d=document.createElement("div");
d.className="item";
d.innerHTML=`<img src="${w.img}"><br>${w.name}`;
reel.appendChild(d);
});

let winIndex=25;
let target=winIndex*190;
reel.style.transform="translateX(-"+target+"px)";
}

function show(id){
document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
event.target.classList.add("active");
}
</script>

</body>
</html>
