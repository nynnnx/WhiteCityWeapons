<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>White City Spin</title>
<style>
:root {
    --primary:#ff2a3b;
    --t1:#4fc3f7;
    --t15:#d32f2f;
    --t2:#ffb300;
}
*{box-sizing:border-box}
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial,Helvetica,sans-serif}

.sidebar{
    position:fixed;left:0;top:0;bottom:0;width:240px;
    background:#0f0f0f;border-right:2px solid #151515;padding:20px
}
.logo-area h1{margin:0;font-weight:900}
.sidebar-nav{margin-top:30px;display:flex;flex-direction:column;gap:10px}
.nav-btn{background:#111;color:white;border:1px solid #222;padding:12px;font-weight:800;cursor:pointer}
.nav-btn.active{border-color:var(--primary)}

.dashboard{margin-left:260px;padding:30px}
.section-title{font-weight:900;margin-bottom:20px}

.grid{display:grid;grid-template-columns:repeat(auto-fill,160px);gap:15px}
.card{background:#111;border:1px solid #222;padding:10px;text-align:center}
.card img{max-width:100%;height:90px;object-fit:contain}
.tier-tag{font-size:0.6rem;font-weight:900;padding:4px;margin-bottom:6px}

.crate-module{margin-top:20px}
.spinner-viewport{position:relative;overflow:hidden;width:900px;height:210px;border:2px solid #222}
.reel{display:flex;height:100%}
.reel-item{width:195px;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:#111}
.reel-item img{max-height:130px}
.center-line{position:absolute;top:0;bottom:0;left:50%;width:4px;background:var(--primary);z-index:10}
.spin-btn{
    margin-top:20px;background:var(--primary);border:none;color:white;
    padding:14px 36px;font-weight:900;font-size:1.1rem;cursor:pointer
}

#spin-results{display:flex;gap:15px;margin-top:25px;flex-wrap:wrap}
#spin-results div{text-align:center}
#spin-results img{height:80px}
</style>
</head>
<body>

<div class="sidebar">
    <div class="logo-area">
        <h1>WHITE CITY</h1>
        <p style="opacity:.6;font-size:.7rem;font-weight:900">V1.0 SYSTEM</p>
    </div>
    <div class="sidebar-nav">
        <button class="nav-btn active" onclick="nav('weapons')">White City Storage</button>
        <button class="nav-btn" onclick="nav('lucky')">Randomize</button>
    </div>
</div>

  <div class="dashboard">
        
        <div id="sec-weapons">
            <h2 class="section-title">Inventory Data</h2>
            
            <h3 style="color: var(--t1); margin-top: 50px;">TIER 1</h3>
            <div class="grid" id="grid-t1"></div>

            <h3 style="color: var(--t15); margin-top: 50px;">TIER 1.5</h3>
            <div class="grid" id="grid-t15"></div>

            <h3 style="color: var(--t2); margin-top: 50px;">TIER 2</h3>
            <div class="grid" id="grid-t2"></div>
        </div>

        <div id="sec-lucky" style="display:none;">
            <h2 class="section-title">Probability Engine</h2>
            
            <div style="margin-bottom: 20px;">
                <label style="font-weight: 900; font-size: 0.8rem;">Simulate a faction drop spin:</label><br>
                <select id="spin-tier" style="background:#222; color:white; border:1px solid var(--primary); padding:10px 20px; font-weight:700; margin-top:10px;">
                    <option value="t1">Test Drops</option>
                    <option value="t1">Tier 1</option>
                    <option value="t15">Tier 1.5</option>
                    <option value="t2">Tier 2</option>
                    <option value="t2">Refill</option>
                </select>
            </div>

            <div class="crate-module">
                <div class="spinner-viewport">
                    <div class="center-line"></div>
                    <div id="reel" class="reel"></div>
                </div>
                <div style="text-align: center;">
                    <button class="spin-btn" onclick="runSpinner()">SPIN</button>
                </div>
            </div>
        </div>

    </div>

<script>
const WEAPONS={
    t1:[
        {name:'Canik',img:'https://i.postimg.cc/mD8x1hM0/ar.png',color:'var(--t1)'},
        {name:'Glock',img:'https://i.postimg.cc/85zK6L6k/special.png',color:'var(--t1)'}
    ],
    t15:[
        {name:'FNX-45',img:'https://i.postimg.cc/mD8x1hM0/ar.png',color:'var(--t15)'}
    ],
    t2:[
        {name:'AR',img:'https://i.postimg.cc/mD8x1hM0/ar.png',color:'var(--t2)'}
    ]
};

function nav(id){
    document.getElementById('sec-weapons').style.display=id==='weapons'?'block':'none';
    document.getElementById('sec-lucky').style.display=id==='lucky'?'block':'none';
    document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
    event.target.classList.add('active');
}

function populate(){['t1','t15','t2'].forEach(t=>{
    const g=document.getElementById('grid-'+t);
    WEAPONS[t].forEach(w=>{
        g.innerHTML+=`<div class='card'><div class='tier-tag' style='background:${w.color}'>${t}</div><img src='${w.img}'><div style='font-weight:900'>${w.name}</div></div>`;
    });
});}

function getConfig(t){
    if(t==='all')return{spins:2,pool:WEAPONS.t1};
    if(t==='t1')return{spins:4,pool:WEAPONS.t1};
    if(t==='t15')return{spins:4,pool:WEAPONS.t15};
    if(t==='t2')return{spins:6,pool:WEAPONS.t2};
}

function spinOnce(pool,done){
    const reel=document.getElementById('reel');
    reel.innerHTML='';reel.style.transition='none';reel.style.transform='translateX(0)';
    const items=[];for(let i=0;i<35;i++)items.push(pool[Math.floor(Math.random()*pool.length)]);
    const winIndex=26;const winner=pool[Math.floor(Math.random()*pool.length)];items[winIndex]=winner;
    items.forEach(i=>{reel.innerHTML+=`<div class='reel-item' style='border-bottom:4px solid ${i.color}'><img src='${i.img}'></div>`});
    requestAnimationFrame(()=>{
        const w=195;const off=winIndex*w-(reel.parentElement.offsetWidth/2-w/2);
        reel.style.transition='transform 6s cubic-bezier(.15,0,.1,1)';
        reel.style.transform=`translateX(-${off}px)`;
    });
    setTimeout(()=>done(winner),6100);
}

function runSpinner(){
    const tier=document.getElementById('spin-tier').value;
    const {spins,pool}=getConfig(tier);
    const box=document.getElementById('spin-results');box.innerHTML='';
    let c=0;
    function next(){spinOnce(pool,w=>{
        box.innerHTML+=`<div><img src='${w.img}'><div style='font-weight:900'>${w.name}</div></div>`;
        c++;if(c<spins)setTimeout(next,300);
    });}
    next();
}

window.onload=populate;
</script>
</body>
</html>
