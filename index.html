<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>White City Spin</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

<style>
:root{
    --primary:#ff2a3b;
    --bg:#0b0b0b;
    --panel:#111;
    --t1:#4fc3f7;
    --t15:#d32f2f;
    --t2:#ffb300;
}

*{box-sizing:border-box}
body{
    margin:0;
    background:radial-gradient(circle at top,#111,#050505 60%);
    color:#fff;
    font-family:Montserrat,Arial,sans-serif;
}

/* ===== SIDEBAR ===== */
.sidebar{
    position:fixed;
    inset:0 auto 0 0;
    width:260px;
    background:linear-gradient(180deg,#0f0f0f,#070707);
    border-right:2px solid #1b1b1b;
    padding:30px;
}
.logo-area h1{
    font-family:Oswald;
    margin:0;
    font-size:2.3rem;
    color:var(--primary);
}
.sidebar-nav{
    margin-top:50px;
    display:flex;
    flex-direction:column;
    gap:14px;
}
.nav-btn{
    background:#121212;
    border:1px solid #222;
    color:#aaa;
    padding:16px 18px;
    font-weight:900;
    cursor:pointer;
}
.nav-btn.active{color:white;border-color:var(--primary)}

/* ===== DASHBOARD ===== */
.dashboard{
    margin-left:260px;
    padding:50px;
}
.section-title{
    font-size:3rem;
    font-weight:900;
    margin-bottom:40px;
    border-left:8px solid var(--primary);
    padding-left:20px;
}

/* ===== INVENTORY ===== */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:26px;
}
.card{
    background:linear-gradient(180deg,#1a1a1a,#0e0e0e);
    border:1px solid #262626;
    padding:18px;
    text-align:center;
}
.card img{height:140px;object-fit:contain}

/* ===== SPINNER ===== */
.crate-module{
    margin-top:35px;
    background:#111;
    border:2px solid #1f1f1f;
    padding:35px;
}
.spinner-viewport{
    position:relative;
    overflow:hidden;
    height:220px;
    border:2px solid #262626;
    background:#000;
}
.center-line{
    position:absolute;
    top:0;bottom:0;
    left:50%;
    width:4px;
    background:var(--primary);
    z-index:10;
}
.reel{
    display:flex;
    height:100%;
}
.reel-item{
    width:195px;
    flex-shrink:0;
    display:flex;
    align-items:center;
    justify-content:center;
}
.reel-item img{max-height:150px}
</style>
</head>

<body>

<div class="sidebar">
    <div class="logo-area">
        <h1>WHITE CITY</h1>
        <p style="opacity:.6;font-size:.7rem;font-weight:900">V1.0</p>
    </div>
    <div class="sidebar-nav">
        <button class="nav-btn active" onclick="nav('weapons')">Inventory</button>
        <button class="nav-btn" onclick="nav('lucky')">Spin</button>
    </div>
</div>

<div class="dashboard">

<!-- INVENTORY -->
<div id="sec-weapons">
    <h2 class="section-title">Inventory Data</h2>

    <h3 style="color:var(--t1)">Tier 1</h3>
    <div class="grid" id="grid-t1"></div>

    <h3 style="color:var(--t15);margin-top:60px">Tier 1.5</h3>
    <div class="grid" id="grid-t15"></div>

    <h3 style="color:var(--t2);margin-top:60px">Tier 2</h3>
    <div class="grid" id="grid-t2"></div>
</div>

<!-- SPINNER -->
<div id="sec-lucky" style="display:none">
    <h2 class="section-title">Faction Drop Spin</h2>

    <select id="spin-tier">
        <option value="t1">Tier 1</option>
        <option value="t15">Tier 1.5</option>
        <option value="t2">Tier 2</option>
    </select>

    <div class="crate-module">
        <div class="spinner-viewport">
            <div class="center-line"></div>
            <div id="reel" class="reel"></div>
        </div>

        <div style="margin-top:30px;text-align:center">
            <button onclick="runSpinner()">SPIN</button>
        </div>
    </div>
</div>

</div>

<script>
/* ===== ORIGINAL WEAPONS ===== */
const WEAPONS={
    t1:[{name:'Canik',img:'...'}],
    t15:[{name:'Glock',img:'...'}],
    t2:[{name:'Draco',img:'...'}]
};

/* ===== TRASH GUNS (EDITABLE) ===== */
const TRASH_GUNS=[
    {name:'Walter',img:'...'},
    {name:'Rusty Pistol',img:'...'}
];

/* ===== TRASH CHANCE ===== */
const TRASH_CHANCE={
    t15:0.25,
    t2:0.15
};

/* ===== INVENTORY LOAD ===== */
function loadInventory(){
    ['t1','t15','t2'].forEach(tier=>{
        const grid=document.getElementById('grid-'+tier);
        WEAPONS[tier].forEach(w=>{
            const c=document.createElement('div');
            c.className='card';
            c.innerHTML=`<img src="${w.img}"><h4>${w.name}</h4>`;
            grid.appendChild(c);
        });
    });
}
loadInventory();

/* ===== SPIN PICKER ===== */
function getSpinItem(tier){
    if((tier==='t15'||tier==='t2') && Math.random()<TRASH_CHANCE[tier]){
        return TRASH_GUNS[Math.floor(Math.random()*TRASH_GUNS.length)];
    }
    return WEAPONS[tier][Math.floor(Math.random()*WEAPONS[tier].length)];
}

/* ===== FIXED SPINNER (FAST → SLOW → STOP) ===== */
function runSpinner(){
    const reel=document.getElementById('reel');
    reel.innerHTML='';
    const tier=document.getElementById('spin-tier').value;

    for(let i=0;i<30;i++){
        const item=getSpinItem(tier);
        const d=document.createElement('div');
        d.className='reel-item';
        d.innerHTML=`<img src="${item.img}">`;
        reel.appendChild(d);
    }

    // RESET
    reel.style.transition='none';
    reel.style.transform='translateX(0)';

    // FAST PHASE
    setTimeout(()=>{
        reel.style.transition='transform 0.9s linear';
        reel.style.transform='translateX(-3400px)';
    },30);

    // SLOW + HARD STOP
    setTimeout(()=>{
        reel.style.transition='transform 0.45s cubic-bezier(0.2,0.9,0.35,1)';
        reel.style.transform='translateX(-3800px)';
    },950);
}

/* ===== NAV ===== */
function nav(sec){
    document.getElementById('sec-weapons').style.display=sec==='weapons'?'block':'none';
    document.getElementById('sec-lucky').style.display=sec==='lucky'?'block':'none';
}
</script>

</body>
</html>
